<controls:MetroWindow x:Class="Twice.Views.Dialogs.InfoDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        WindowStartupLocation="CenterOwner" DataContext="{Binding Info, Source={StaticResource DialogLocator}}"
        xmlns:controls="http://metro.mahapps.com/winfx/xaml/controls"
        xmlns:lex="http://wpflocalizeextension.codeplex.com"
        xmlns:xaml="clr-namespace:Markdown.Xaml;assembly=Markdown.Xaml"
        xmlns:info="clr-namespace:Twice.ViewModels.Info"
        mc:Ignorable="d" Style="{StaticResource DialogStyle}"
        Title="{lex:Loc Info}" Height="600" Width="600">
	<controls:MetroWindow.Resources>
		<xaml:Markdown x:Key="Markdown">
			<xaml:Markdown.DocumentStyle>
				<Style TargetType="FlowDocument">
					<Setter Property="FontFamily" Value="{DynamicResource ContentFontFamily}" />
					<Setter Property="FontSize" Value="{DynamicResource ContentFontSize}" />
				</Style>
			</xaml:Markdown.DocumentStyle>
		</xaml:Markdown>

		<xaml:TextToFlowDocumentConverter x:Key="FlowDocConv" Markdown="{StaticResource Markdown}" />
	</controls:MetroWindow.Resources>
	<TabControl>
		<TabItem Header="{lex:Loc About}">
			<StackPanel Orientation="Vertical">
				<StackPanel Orientation="Horizontal">
					<TextBlock Text="{lex:Loc Version}" />
					<TextBlock Text="{Binding Version}" />
				</StackPanel>
				<StackPanel Orientation="Horizontal">
					<TextBlock Text="{lex:Loc BuildDate}" />
					<TextBlock Text="{Binding BuildDate}" />
				</StackPanel>
			</StackPanel>
		</TabItem>
		<TabItem Header="{lex:Loc Licenses}">
			<DockPanel>
				<ComboBox DockPanel.Dock="Top" ItemsSource="{Binding Licenses}" DisplayMemberPath="Name" x:Name="LicenseSelection" SelectedIndex="0" />
				<FlowDocumentScrollViewer Document="{Binding ElementName=LicenseSelection, Path=SelectedItem.(info:LicenseItem.Content), Converter={StaticResource FlowDocConv}}" Padding="5" />
			</DockPanel>
		</TabItem>
	</TabControl>
</controls:MetroWindow>